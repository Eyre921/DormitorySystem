
| 课程名称  | 程序设计        |     |              |      |     |
| ----- | ----------- | --- | ------------ | ---- | --- |
| 项目名称  | 宿舍管理系统      |     |              |      |     |
| 项目代码量 | 约3000行      |     |              |      |     |
| 完成时间  | 2024年12月30日 |     |              |      |     |
| 组长姓名  | 符航康         | 学号  | 202408040228 | 贡献比例 | 70% |
| 组员姓名  | 陈奇乐         | 学号  | 202408040216 | 贡献比例 | 30% |

### 引言
 本报告详细介绍了我在开发宿舍管理系统过程中的主要工作、所获得的技术收获以及功能拓展的实现。通过此次项目的开发，我深入理解了面向对象编程（OOP）的核心概念，掌握了C++语言在实际项目中的应用，并且积累了数据库操作与管理的实战经验。项目的成功实施不仅提升了我的编程能力，也增强了我在系统设计与问题解决方面的综合素质。
### 实验目的
通过本次宿舍管理系统的开发，我希望能实现以下几个学习目标：

1. **掌握面向对象编程的基本思想**：通过开发宿舍管理系统，我可以深入理解面向对象编程（OOP）中的封装、继承、多态等核心概念，掌握如何将这些概念应用到实际的项目中，以提高代码的可读性、可维护性和扩展性。
    
2. **增强数据库操作的实战能力**：在项目中涉及到数据库的管理，我希望通过与 SQLite3 的集成，学习如何在 C++ 中进行数据库的基本操作，比如连接数据库、查询数据、插入和更新数据等，从而掌握数据库的操作技巧。
    
3. **提升程序设计与模块化能力**：通过将系统分为不同的模块（如学生管理、宿舍管理、维修管理等），我可以更加理解模块化设计的重要性，并学习如何将一个复杂的系统分解为多个相对独立的模块，以提高系统的结构化程度和可维护性。
    
4. **锻炼问题分析和解决能力**：在项目开发过程中，我将遇到不同的技术难题和错误，如何定位问题并高效解决它们是我非常希望通过这次实验提升的能力。我希望通过调试和修改代码，学会如何从错误日志中找到问题的根源，并有针对性地进行优化和修复。
    
5. **强化团队协作与沟通能力**：如果是小组合作开发，我希望通过与团队成员的分工协作，提升自己的沟通能力、团队合作能力和项目管理能力，学习如何在团队中进行有效的协作，推动项目的进展。
    
6. **提升实际编程能力与工程实践经验**：通过从头到尾完成宿舍管理系统的开发，我希望能在实践中锻炼自己的编程能力，尤其是在 C++ 语言的使用上，并加深对软件开发过程的理解，积累实际的项目开发经验。
    
7. **学习如何设计和实现用户交互界面**：通过设计和实现系统的用户界面，我希望能更好地理解用户体验（UX）设计的基本原则，并掌握如何将其应用到软件开发中，使程序不仅功能完整，还能提供良好的用户体验。
    

通过本次实验，我希望不仅能提升自己的编程能力和项目开发能力，还能学会如何在实际的工程中进行有效的设计与开发，培养出一名更加全面的软件开发者的素质。

### 项目概述

本宿舍管理系统是一个综合性的程序，旨在为学生和管理员提供高效、便捷的宿舍管理功能。整个系统基于C++语言开发，涵盖了从学生登录、宿舍申请、维修请求到管理员管理用户和宿舍等一系列操作，满足了宿舍管理过程中的各种需求。系统的主界面由一个控制台界面构成，启动后通过加载动画和提示信息逐步引导用户进入系统。通过设置支持UTF-8编码，确保了中文的正常显示。进入主菜单后，用户可以选择进入学生菜单或管理员菜单，系统在其中进行不同角色的功能处理。该设计遵循用户友好、流程清晰的原则，用户可以通过清晰的菜单选项完成各自的操作。所有菜单选项都采用了逐行输出的形式，并结合了慢速打印、清屏等效果，提升了用户体验。

系统的核心功能可分为两大类：学生功能和管理员功能。在学生功能方面，系统首先提供了学生登录功能。学生需要输入学号和密码进行身份验证。如果学生的密码是默认密码，系统会提示学生进行密码修改。登录成功后，学生可以通过菜单进入宿舍信息查询、住宿调整申请、维修请求提交等功能。学生能够查看宿舍楼和房间的详细信息、申请调整住宿、提交维修请求以及查看系统通知和自己的请求记录。此外，学生还可以在系统内修改自己的密码，确保账户安全性。

管理员功能则更为复杂，主要包括宿舍楼管理、用户管理、报表生成、维修处理等多个模块。管理员通过登录界面输入账号和密码进行身份验证。成功登录后，管理员将进入包含宿舍楼管理、用户管理、报表生成、维修处理中心等功能的菜单。宿舍楼管理模块可以进行宿舍楼信息的添加、删除、修改和查询，管理员可以根据需求对宿舍楼进行灵活配置。在用户管理模块中，管理员可以对学生进行增、删、查、改等操作，包括查看用户信息、修改密码等。在维修处理模块中，管理员能够处理学生提交的维修请求，确保宿舍设施的正常运行。管理员还可以生成报表，查看宿舍的使用情况和入住率，帮助学校管理者进行决策。

在设计上，系统对用户输入进行了严格的验证，避免了因输入错误导致的系统崩溃。每个操作都伴随着详细的提示信息，确保用户在操作过程中的顺畅与明确。所有的菜单选项都采用了相同的结构，操作逻辑简洁且一致，用户可以快速熟悉并进行各项功能的操作。

数据的处理上，系统依赖一个核心的UserManager类来管理用户的操作。学生和管理员的所有交互信息，包括登录验证、用户信息查看、密码修改等，都通过UserManager进行管理。该类设计了多个函数来处理不同的任务，如学生注册、用户登录、密码修改等，同时也提供了丰富的查询和管理接口供管理员使用。例如，在宿舍管理模块中，管理员可以轻松地对宿舍楼、房间进行管理，操作灵活且高效。

### 数据库模块设计与实现

为了确保系统能够高效、安全地存储和管理大量的数据，本宿舍管理系统采用了SQLite数据库进行数据存储。数据库模块的设计目标是实现宿舍信息、用户信息、维修请求和费用记录的持久化存储，并通过SQL查询和更新操作提供快速的数据访问。SQLite是一个轻量级的嵌入式数据库，适合于本项目的规模，不需要复杂的数据库管理系统，且具备较好的性能。

数据库模块的核心部分是`Database`类，它通过C++的SQLite3库与数据库进行交互。该类封装了所有数据库操作，如数据库连接、数据查询、数据插入、更新和删除等功能。它提供了灵活的接口，支持带参数的查询和事务管理，确保操作的原子性和数据一致性。通过数据库模块，系统能够自动维护学生信息、宿舍房间的使用情况以及维修请求的记录。管理员可以随时查看数据库中的数据，确保系统能够实时反映最新的操作。

在系统启动时，`Database`类会打开数据库文件，并初始化数据库连接。通过执行SQL语句，系统可以查询学生的住宿信息、房间的使用状态等数据。当学生或管理员进行相关操作时，数据库模块将根据操作类型（插入、更新、查询等）执行相应的SQL语句，并返回操作结果。例如，学生申请调整宿舍时，系统会查询当前宿舍楼和房间的使用情况，确保该操作不会导致宿舍房间超载。

为了防止SQL注入攻击，系统在所有数据库查询中都使用了参数化查询，通过SQLite的`sqlite3_bind_*`系列函数将用户输入的参数绑定到SQL语句中，从而避免了直接拼接字符串带来的安全风险。

### 开发过程中的问题与解决方案

在宿舍管理系统的开发过程中，我遇到了多方面的挑战，主要集中在输入验证、数据库操作以及用户体验优化上。

首先，在用户输入的验证与错误处理方面，最初系统在接收用户输入时未能有效处理非法输入，导致程序在输入非预期字符时崩溃。为了解决这一问题，我在每个输入环节添加了循环和条件判断，确保用户输入的数据有效。通过使用`cin.fail()`清除输入缓冲区，并提示用户重新输入，系统的稳定性得到了显著提升。

其次，在数据库操作过程中，由于涉及复杂的SQL查询和多表联接，查询结果有时未能按预期返回。通过逐步调试SQL语句，输出调试信息并验证每个查询的正确性，我成功优化了查询结构，确保查询结果的准确性。此外，在处理带参数的查询时，初期出现了绑定参数失败的情况，经过深入学习SQLite3的文档和实践操作，我掌握了正确的参数绑定方法，避免了SQL注入风险。

另外，在用户体验的优化上，我发现菜单结构复杂且用户操作不够直观。通过重新设计菜单布局，统一操作逻辑，并结合慢速打印和清屏效果，提升了系统的交互性和用户友好性。每次操作后，系统都会提示用户继续或返回上一级，避免了因不清楚当前状态而导致的操作失误。

### 收获与总结

通过本次宿舍管理系统的开发，我在多个方面取得了显著的进步。首先，面向对象编程的理论知识得到了实际应用，通过设计和实现多个类，深入理解了封装、继承和多态的概念。其次，数据库操作能力得到了极大提升，通过与SQLite3的集成，掌握了数据库的基本操作和高级查询技巧，确保了数据的安全性和一致性。

在项目设计与模块化方面，我学会了如何将复杂系统拆分为多个独立模块，各模块之间通过清晰的接口进行交互，提高了系统的可维护性和扩展性。同时，解决开发过程中遇到的问题，如输入验证、SQL注入防范等，锻炼了我的问题分析与解决能力。

此外，用户体验的优化让我认识到细节设计的重要性，通过优化界面布局和操作流程，提升了系统的易用性和用户满意度。团队协作与项目管理的经验也在本次开发中有所体现，学会了如何有效地分工合作，确保项目按时完成。

总的来说，本宿舍管理系统的开发不仅让我在技术层面得到了全面提升，也培养了我在实际项目中进行需求分析、系统设计、编码实现和问题解决的综合能力。未来，我将继续深化这些技能，并探索更多先进的技术，以进一步提升软件开发的水平。

报告见后页：
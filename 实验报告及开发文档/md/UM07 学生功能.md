## 学生功能开发报告

### 1. 功能概述

在宿舍管理系统的“学生功能”模块中，我们实现了多个关键功能，旨在为学生提供全面的宿舍管理服务，包括注册、入住申请、退宿申请、房间信息查询、维修请求、换宿请求等功能。该模块的设计目标是确保学生能够便捷地通过系统进行宿舍相关的各项操作，提升系统的易用性和学生的满意度。

### 2. 主要功能模块

#### 2.1 学生注册功能

学生注册功能允许新生或未注册的学生在系统中创建账户。通过输入学号、密码、姓名、性别和联系方式，学生能够成功注册并获取系统账号。

- **步骤**：
    
    1. 学生提供个人信息（学号、密码、姓名、性别、联系方式）。
    2. 系统检查注册信息的有效性。
    3. 注册信息插入到数据库中。
    4. 注册成功后，系统会显示成功消息。
- **问题与解决**：
    
    - **问题**：系统需要保证学号的唯一性，以避免重复注册。
    - **解决方案**：在注册前进行学号的查询，确保数据库中没有重复的学号记录。
- **收获**：通过学生注册功能的实现，提升了对数据库操作的理解，尤其是在插入数据和确保数据唯一性方面。
    

#### 2.2 查看宿舍楼和房间信息

学生可以查看自己宿舍楼和房间的详细信息，包括宿舍楼名称、房间号、房间容量、已入住人数及维修状态。只有已入住学生才可以查询这些信息。

- **步骤**：
    
    1. 验证学生是否已经入住。
    2. 如果已入住，查询数据库，获取该学生所在宿舍楼和房间的信息。
    3. 如果未入住，提供申请入住的选项。
- **问题与解决**：
    
    - **问题**：如何确保只有已入住的学生能够查看自己的宿舍信息。
    - **解决方案**：在数据库中增加“已入住”字段，并通过查询检查学生的入住状态，只有已入住的学生才能查看房间信息。
- **收获**：加深了对数据库连接操作和条件查询的理解，尤其是涉及到多表连接的查询操作。
    

#### 2.3 申请入住

学生可以通过系统提交入住申请。系统会在确认学生未入住的情况下，向数据库中插入申请记录，并告知学生申请成功。

- **步骤**：
    
    1. 学生提出入住申请。
    2. 系统查询学生是否已经入住，如果未入住，插入入住申请记录。
    3. 提交成功后，系统告知学生申请已提交。
- **问题与解决**：
    
    - **问题**：避免学生重复申请入住。
    - **解决方案**：在申请之前，通过查询数据库检查学生是否已经入住。
- **收获**：通过此功能，了解了如何通过SQL语句插入记录并确保业务逻辑的一致性。
    

#### 2.4 申请退宿

学生可以提交退宿申请，系统会验证学生是否已经入住，并根据入住情况处理退宿请求。

- **步骤**：
    
    1. 学生提出退宿申请。
    2. 系统查询学生的入住状态，如果学生未入住，则无法退宿。
    3. 如果已入住，系统插入退宿申请记录。
- **问题与解决**：
    
    - **问题**：确保学生只能在已入住的情况下提出退宿申请。
    - **解决方案**：查询数据库验证学生的入住状态，只有已入住的学生才可以退宿。
- **收获**：加强了对数据验证和状态管理的理解，确保了业务逻辑的正确性。
    

#### 2.5 请求换宿

学生可以请求换宿，系统将学生选择的目标宿舍和房间信息插入申请记录中，并提交给宿舍管理部门处理。

- **步骤**：
    
    1. 学生选择目标宿舍和房间。
    2. 系统根据学生的选择生成换宿申请记录。
    3. 提交申请后，系统反馈成功消息。
- **问题与解决**：
    
    - **问题**：如何确保目标房间可用，避免重复选择已满的房间。
    - **解决方案**：在提交换宿请求前，查询目标房间的可用状态，确保该房间未满。
- **收获**：增强了数据库查询和插入的操作技巧，特别是在房间状态管理方面。
    

#### 2.6 提交维修请求

学生可以提交维修请求，报告宿舍房间中的问题（如水电故障等），并选择具体的维修类型和问题描述。

- **步骤**：
    
    1. 学生提供房间信息、报修类型及描述。
    2. 系统生成维修请求并插入数据库。
    3. 系统更新房间的维修状态。
- **问题与解决**：
    
    - **问题**：如何确保学生只能报修自己所在房间的问题。
    - **解决方案**：通过查询学生的房间信息，确保报修请求的房间与学生的实际房间一致。
- **收获**：通过此功能的实现，提升了对用户输入验证和数据一致性的处理能力。
    

#### 2.7 查看通知

学生可以查看自己的系统通知，了解与自己相关的消息（如审批状态变更等）。

- **步骤**：
    
    1. 学生查询通知。
    2. 系统展示通知列表或单条通知内容。
- **问题与解决**：
    
    - **问题**：如何管理和展示通知。
    - **解决方案**：创建通知记录表，并通过学生ID查询相关通知。
- **收获**：通过实现该功能，学习了如何管理通知数据，并增强了对数据表设计的理解。
    

#### 2.8 查看所有请求

学生可以查看自己所有的申请记录（如入住申请、退宿申请等），包括申请类型、状态、宿舍楼、房间号等信息。

- **步骤**：
    
    1. 学生查询所有的申请记录。
    2. 系统按时间倒序展示所有相关记录。
- **问题与解决**：
    
    - **问题**：如何有效地展示申请记录并区分不同类型的申请。
    - **解决方案**：使用SQL查询按申请时间排序，并通过状态区分不同类型的请求。
- **收获**：通过此功能，掌握了如何处理学生申请的历史记录，并对数据库的查询和排序操作有了更深入的理解。
    

#### 2.9 查看未审批的请求

学生可以查看自己有待审批的请求，便于及时跟进申请的审批状态。

- **步骤**：
    
    1. 学生查询待审批的申请记录。
    2. 系统返回所有状态为“待审批”的申请。
- **问题与解决**：
    
    - **问题**：如何准确筛选待审批的请求。
    - **解决方案**：在SQL查询中增加条件筛选，确保只返回待审批的申请记录。
- **收获**：通过此功能，进一步了解了如何管理和筛选数据库中的状态字段。
    

### 3. 总结与收获

在“学生功能”模块的开发过程中，我们深入了解了如何通过数据库操作实现学生的各类宿舍管理需求。通过注册、申请入住、申请退宿、维修请求等功能的实现，提升了我们对数据库查询、插入、更新等操作的掌握。此外，开发过程中还遇到了一些问题，如如何确保数据的一致性、如何避免重复申请等，但通过精心设计数据库结构和使用有效的查询条件，我们成功解决了这些问题。

总体而言，该模块的开发让我们更加熟悉了学生信息管理的流程，也加深了我们对数据管理和业务逻辑实现的理解，为后续的系统优化和扩展奠定了基础。


### **清单**

1. **用户管理**
    
    - **用户注册**：学号、姓名、密码、联系方式等信息的注册功能。
    - **用户登录**：通过学号和密码进行登录。
    - **管理员权限**：区分学生和管理员角色，管理员拥有更多权限。
2. **宿舍管理**
    
    - **宿舍楼管理**：宿舍楼的增、删、改、查操作。
    - **房间管理**：宿舍房间的添加、删除、更新，房间状态管理。
    - **房间分配**：管理员可以将学生分配到空闲房间。
3. **入住与退宿管理**
    
    - **入住分配**：管理员为学生分配宿舍。
    - **入住确认**：学生确认自己已经入住。
    - **退宿管理**：学生提交退宿申请，管理员审核并确认。
    - **退宿确认**：房间状态更新，学生退宿记录保存。
4. **查询功能**
    
    - **学生查询**：学生可以查询自己的宿舍信息和退宿记录。
    - **管理员查询**：管理员可以查询所有学生的宿舍、入住和退宿记录。
5. **通知与提醒（待实现）**
    
    - 系统将支持通知学生宿舍分配、入住确认、退宿申请等信息。消息通过系统、邮件或短信推送（待实现）。
6. **统计与报表生成**
    
    - **宿舍使用统计**：生成宿舍使用率、入住率、退宿率等数据统计报表。
    - **月度/年度报表**：生成宿舍使用情况的报表，帮助管理员分析资源的使用情况。
7. **维修与报修管理**
    
    - **报修申请**：学生提交宿舍设施维修申请。
    - **维修记录管理**：管理员查看并更新维修记录，处理报修问题。

### **文件及模块内容**

- **`/src/main.cpp`**：程序的主入口，初始化数据库，启动命令行界面，处理用户登录和权限管理。
- **`/src/UserManager.cpp`**：实现用户的注册、登录、权限管理。
- **`/src/DormitoryManager.cpp`**：宿舍楼和房间管理的核心逻辑。
- **`/src/RoomManager.cpp`**：学生入住与退宿管理的逻辑。
- **`/src/QueryManager.cpp`**：学生和管理员查询功能的实现。
- **`/src/NotificationManager.cpp`**：通知与提醒功能的预留部分（待实现）。
- **`/src/ReportManager.cpp`**：统计报表的生成，包括宿舍的使用情况、入住率、退宿率等。
- **`/src/RepairManager.cpp`**：维修与报修管理模块。
- **`/data/dormitory.db`**：SQLite数据库文件，存储用户信息、宿舍楼信息、房间信息、入住和退宿记录等。
- **`/docs/README.md`**：项目文档，系统安装、配置和使用说明。
- **`CMakeLists.txt`**：CMake构建配置文件，支持项目的编译和打包。

### **功能细节**

1. **用户管理**：
    
    - 用户登录时进行身份验证，区分学生与管理员角色。
    - 学生只能查询和修改自己的信息，而管理员有权限查看和修改所有学生的宿舍信息。
2. **宿舍管理**：
    
    - 管理员可以进行宿舍楼和房间的管理，包括添加新宿舍楼、更新房间状态、删除宿舍楼等操作。
    - 房间状态的变化会影响学生的入住与退宿操作。
3. **入住与退宿管理**：
    
    - 学生申请入住时，系统会根据房间状态判断是否空闲；管理员审核入住申请并更新数据库。
    - 退宿时，学生提交申请，管理员审核并更新房间状态，系统记录所有操作。
4. **查询功能**：
    
    - 学生可以查询自己的宿舍信息，管理员可以查询所有学生的宿舍分配情况。
    - 查询功能支持多条件筛选，查询结果以表格形式输出。
5. **通知与提醒**：
    
    - 当前为预留功能，待后期实现。计划通过系统通知、邮件或短信提醒学生宿舍分配、入住确认等信息。
6. **统计与报表**：
    
    - 生成宿舍使用情况、入住率、退宿率等报表。
    - 支持按月、按年生成报表，管理员可以查看宿舍的使用状况和空置情况。
7. **维修与报修管理**：
    
    - 学生提交报修请求，管理员查看并处理报修，更新维修状态。
    - 所有维修记录保存在数据库中，便于查询。

---

### **打包与部署**

- **数据库**：系统使用SQLite数据库，将数据库文件（`dormitory.db`）与程序一起打包。
- **构建工具**：使用CMake进行项目构建，生成可执行文件。
- **命令行交互**：系统以命令行界面与用户交互，通过菜单系统引导用户完成不同的操作。

---

### **后续扩展（可选）**

- **图形用户界面（GUI）**：可以使用Qt或其他框架进行图形界面的开发，提升用户体验。
- **云存储和数据备份**：将数据库迁移到云端，支持数据的同步和备份，确保数据的安全性。
- **通知功能的扩展**：可以通过集成短信、邮件或移动应用推送等方式实现更灵活的通知系统。

---


下面是需要实现的所有 `.cpp` 文件和对应的实现细则。每个文件都包含了主要功能模块和功能点，方便你在开发过程中按照这些细则实现相应的功能。

---

### **1. `main.cpp` - 主程序入口**

**功能：**

- 初始化数据库连接
- 初始化各个模块的管理对象
- 启动系统并进入主循环
- 用户身份验证（管理员或普通用户）

**细则：**

- 创建 `UserManager`、`DormitoryManager`、`RoomManager`、`QueryManager`、`NotificationManager`、`ReportManager`、
  `RepairManager` 对象。
- 加载数据库（如果使用 SQLite 或文件存储）并初始化数据。
- 用户登录界面，验证用户名和密码。
- 根据用户权限选择功能模块（管理员或普通用户）。
- 程序退出时，保存所有数据并关闭数据库连接。

---

### **2. `UserManager.cpp` - 用户管理逻辑**

**功能：**

- 用户注册、删除、更新信息
- 用户身份验证（验证用户名和密码）
- 检查是否为管理员

**细则：**

- 使用 `vector<User>` 存储所有用户信息。
- 实现用户注册功能，输入用户名、密码，判断用户名是否已存在。
- 实现删除用户功能，删除指定用户名的用户。
- 实现更新用户信息功能，允许修改密码或其他信息。
- 实现用户身份验证功能，根据用户名和密码查找用户并返回用户类型（管理员或普通用户）。

---

### **3. `DormitoryManager.cpp` - 宿舍楼与房间管理**

**功能：**

- 添加、删除、更新宿舍楼
- 获取宿舍楼的所有房间
- 获取房间信息和状态（可用、已分配）

**细则：**

- 使用 `vector<Room>` 存储所有房间数据。
- 实现 `addDormitoryBuilding`：根据宿舍楼名称和房间数量生成新的宿舍楼，并添加房间。
- 实现 `removeDormitoryBuilding`：删除指定宿舍楼及其中的所有房间。
- 实现 `updateDormitoryBuilding`：更新宿舍楼的位置信息。
- 实现 `getRoomsInBuilding`：返回指定宿舍楼内所有房间的信息。
- 实现 `getRoomByNumber`：根据宿舍楼名称和房间号查找指定房间。

---

### **4. `RoomManager.cpp` - 入住与退宿管理**

**功能：**

- 分配房间给学生
- 退宿操作
- 换房申请

**细则：**

- 使用 `vector<User>` 存储已入住的学生信息，关联宿舍房间。
- 实现 `assignRoomToStudent`：根据房间的可用性分配房间给学生。
- 实现 `cancelRoomAssignment`：退宿功能，将学生从房间中移除，恢复房间可用状态。
- 实现 `applyForRoomChange`：学生申请换房时，检查目标房间是否可用并进行分配。

---

### **5. `QueryManager.cpp` - 查询功能实现**

**功能：**

- 查询房间信息（可用、已分配、房间详情）
- 查询用户信息（已入住的学生）

**细则：**

- 实现 `getRoomDetails`：根据宿舍楼名称和房间号查询房间的详细信息。
- 实现 `getUserDetails`：查询指定用户名的用户详细信息。
- 实现 `getAvailableRooms`：返回所有可用的房间列表。

---

### **6. `NotificationManager.cpp` - 通知与提醒功能**

**功能：**

- 系统通知功能（暂未实现）
- 提醒学生或管理员

**细则：**

- `sendNotification`：模拟通知功能，接受一个字符串参数并输出到控制台。
- `sendReminder`：提醒学生或管理员某些操作，如“请检查是否需要续租”等。

---

### **7. `ReportManager.cpp` - 统计与报表功能**

**功能：**

- 生成宿舍使用率报表
- 生成房间利用率报表

**细则：**

- 实现 `generateOccupancyReport`：根据每个宿舍楼的房间是否被分配来生成宿舍使用率的报表。
- 实现 `generateRoomUtilizationReport`：统计每个房间的使用情况，包括已分配的学生数量。

---

### **8. `RepairManager.cpp` - 维修与报修管理**

**功能：**

- 提交维修申请
- 查询维修状态
- 完成维修任务

**细则：**

- 使用 `vector<RepairRequest>` 存储所有的维修请求信息。
- 实现 `submitRepairRequest`：提交新的维修请求，记录维修内容和状态（待处理、处理中、已完成）。
- 实现 `getRepairStatus`：查询指定维修请求的状态。
- 实现 `completeRepair`：完成维修请求，更新状态为“已完成”。

---

### **功能实现的顺序和注意事项：**

1. **用户登录与权限管理：**

    - 先实现 `UserManager` 中的用户管理功能，确保用户能够成功注册、登录和验证身份。
    - 登录后，根据用户角色（管理员或普通用户）选择不同的功能模块。
2. **宿舍管理和房间管理：**

    - 接着实现宿舍和房间的管理功能，确保能够添加、删除、更新宿舍楼和房间信息。
    - 房间分配和退宿功能应紧跟其后，确保每个房间的状态可以正确更新。
3. **查询功能：**

    - 完成查询模块的功能，确保用户能够查看所有房间的状态，查询自己或他人的信息。
4. **通知与报表功能：**

    - 通知模块和报表功能可以根据需要逐步实现。通知模块的细节可以在后续版本中完善，报表功能可以集中在管理员界面进行设计。
5. **维修管理：**

    - 维修功能要与房间管理密切结合，用户在使用过程中可能会涉及到报修操作，确保该功能完整。

---


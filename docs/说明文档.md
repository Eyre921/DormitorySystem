好的，以下是您所需的详细项目说明文档，涵盖了项目的目标、功能模块、数据结构、用户交互流程等关键内容。这将帮助您全面了解系统的设计和实现。

---

# **宿舍管理系统项目说明文档**

## **项目概述**

宿舍管理系统（Dormitory Management System）旨在提供一个集中化、自动化的宿舍管理平台，主要用于学生宿舍的分配、查询、维护以及管理员对宿舍的管理。该系统支持学生用户和管理员用户两种角色，学生可以进行入住、退宿、查询等操作，管理员则可以对宿舍进行管理、分配、查询等操作。本系统将通过命令行界面（CLI）与用户进行交互，且所有数据将存储在本地的SQLite数据库中，确保数据的持久化。

## **目标**

- 提供一个宿舍管理的平台，用于管理宿舍楼、房间、学生入住、退宿等。
- 管理员能够高效地管理和分配宿舍，学生能够查询和确认自己的宿舍信息。
- 系统具备简洁直观的命令行界面，方便用户操作。
- 提供数据持久化支持，确保系统数据不丢失。

## **功能模块**

### **1. 用户管理（User Management）**

- **用户注册**：学生通过输入学号、姓名、密码、联系方式等信息进行注册。
- **用户登录**：用户通过输入学号和密码进行登录。登录后，系统根据用户角色（学生或管理员）决定可用的操作权限。
- **权限管理**：管理员拥有比学生更多的权限，学生只能管理自己的信息，而管理员可以查看、修改、删除所有学生的信息。
- **学生信息修改**：学生登录后可以修改自己的密码和联系方式等个人信息。

### **2. 宿舍管理（Dormitory Management）**

- **宿舍楼管理**：管理员可以添加、删除、更新宿舍楼的信息（如名称、位置、房间数量等）。
- **宿舍房间管理**：
    - **添加房间**：管理员可以为宿舍楼添加新的房间，并设定房间的床位数量。
    - **删除房间**：管理员可以删除宿舍房间，但必须先处理该房间内的学生（通过退宿操作）。
    - **更新房间信息**：管理员可以更新房间状态（空闲/已分配），维护房间的维修记录。

### **3. 入住与退宿管理（Check-in & Check-out Management）**

- **入住分配**：
    - 管理员为学生分配宿舍房间。
    - 在分配宿舍时，系统会检查房间是否为空闲状态。
    - 入住时，系统会更新房间的状态为“已分配”并记录学生的入住信息。
- **退宿管理**：
    - 学生可以提交退宿申请，管理员审核并更新房间的状态。
    - 退宿后，房间状态将更新为“空闲”，并保存退宿记录。
    - 系统会记录每次入住和退宿的时间戳，以便管理员查询。

### **4. 查询功能（Query System）**

- **学生查询**：学生可以查询自己当前的宿舍信息、入住历史和退宿记录。
- **管理员查询**：管理员可以查询所有学生的宿舍信息、入住记录、退宿记录等。
    - 还可以查询宿舍楼和房间的使用情况（空闲房间、已分配房间）。
    - 可以按学号或房间号进行多条件筛选查询。

### **5. 维修与报修管理（Repair & Maintenance）**

- **报修申请**：学生可以在系统中提交宿舍设施的维修申请。包括问题描述、报修时间等信息。
- **维修记录管理**：管理员可以查看所有维修记录，跟踪维修进度并更新维修状态。
    - 修复完成后，管理员将房间的维修状态更新为“已维修”。

### **6. 通知与提醒系统（Notification System）**

- **消息通知**：通过系统内部通知、邮件或短信提醒学生宿舍分配、入住确认、退宿申请等信息。
- **到期提醒**：管理员可以设定租期到期提醒，系统会自动推送到期提醒。
- **系统通知**：当有新的退宿申请或维修申请时，管理员会收到系统通知。

### **7. 统计与报表（Reports & Statistics）**

- **宿舍使用统计**：管理员可以查看宿舍的使用率、入住率和退宿率。
    - 生成宿舍的整体使用情况报表，帮助管理员分析宿舍资源的分配。
- **月度/年度报表**：管理员可以生成每月或每年宿舍资源的使用报告。
    - 报表内容包括房间的入住情况、退宿情况、维修统计等。

### **8. 数据持久化（Data Persistence）**

- **SQLite数据库**：系统所有数据（用户信息、宿舍信息、入住记录、退宿记录、维修记录等）都将存储在SQLite数据库中，确保数据的持久性。
- **数据备份**：可以将数据库备份文件进行定期保存，防止数据丢失。

### **9. 系统配置与管理（Configuration & Administration）**

- **管理员初始化**：管理员初次登录时会使用系统设定的用户名和密码进行登录。
- **密码修改**：管理员可以修改自己的系统登录密码。

---

## **数据库架构**

- **`Users` 表**：存储用户的基本信息（学号、姓名、密码、联系方式、角色等）。
- **`Dormitories` 表**：存储宿舍楼信息（宿舍楼名称、位置、房间数量等）。
- **`Rooms` 表**：存储宿舍房间信息（房间号、宿舍楼ID、床位数、房间状态等）。
- **`Checkins` 表**：存储学生入住记录（学生ID、房间ID、入住时间、状态等）。
- **`Repairs` 表**：存储维修记录（报修ID、房间ID、报修内容、报修时间、维修状态等）。
- **`Notifications` 表**：存储系统通知消息（通知ID、消息内容、发送时间、接收人等）。
- **`Reports` 表**：存储生成的报表（报表ID、报表类型、生成时间等）。

---

## **用户交互流程**

### **学生用户流程**

1. **注册**：学生首次使用系统时，需要先注册一个账户，输入必要的个人信息（学号、姓名、密码、联系方式）。
2. **登录**：注册完成后，学生使用学号和密码进行登录。
3. **查看宿舍信息**：学生登录后可以查看自己的宿舍分配情况、入住记录和退宿申请状态。
4. **提交退宿申请**：学生可以提交退宿申请，等待管理员审核。
5. **查看通知**：学生可以查看来自系统的通知，了解宿舍分配、入住确认等信息。

### **管理员用户流程**

1. **管理员登录**：管理员使用系统默认用户名和密码进行登录。
2. **宿舍管理**：管理员可以添加、删除和更新宿舍楼和房间信息。
3. **学生管理**：管理员可以查看所有学生的宿舍分配情况，审核退宿申请，查看报修记录。
4. **统计与报表生成**：管理员可以生成宿舍使用情况统计报表。
5. **维修管理**：管理员处理学生提交的维修申请，更新维修状态。

---

## **后续计划与扩展**

1. **图形用户界面（GUI）**：未来可以考虑使用Qt或其他图形化工具为系统开发GUI，提升用户体验。
2. **通知功能扩展**：将通知功能进一步扩展为邮件、短信或移动应用推送通知。
3. **云存储与备份**：可以将数据库迁移到云端，支持数据的备份和恢复。
4. **多语言支持**：支持多语言界面，适应不同语言用户的需求。

---

### **总结**

该宿舍管理系统具备完善的功能模块，涵盖了宿舍管理的方方面面。系统采用命令行界面（CLI）进行交互，简洁直观，适合用于校园环境中。通过SQLite数据库进行数据持久化管理，确保系统的高效和稳定。未来可以根据需求逐步扩展功能，如增加通知、图形界面、多语言支持等。